{"ast":null,"code":"import _slicedToArray from\"E:/Programming Hero/Projects/we-travel/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import initializeAuthentication from\"../components/Firebase/firebase.init\";import{getAuth,signInWithPopup,createUserWithEmailAndPassword,GoogleAuthProvider,onAuthStateChanged,signOut,signInWithEmailAndPassword}from\"firebase/auth\";import SignUp from\"../components/SignUp/SignUp\";initializeAuthentication();var useFirebase=function useFirebase(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var auth=getAuth();var googleProvider=new GoogleAuthProvider();// CreateUser Using  Email & Password \nvar createUserUsingEmail=function createUserUsingEmail(name,email,password){console.log(email);createUserWithEmailAndPassword(auth,email,password).then(function(userCredential){console.log(userCredential.user);setUser(userCredential.user);}).catch(function(error){setError(error.message);});};// login Using  Email & Password \nvar loginUserUsingEmail=function loginUserUsingEmail(name,email,password){createUserWithEmailAndPassword(auth,email,password).then(function(userCredential){console.log(userCredential.user);setUser(userCredential.user);}).catch(function(error){setError(error.message);});};// SignIn Using google provider \nvar signInUsingGoogle=function signInUsingGoogle(){// setIsLoading(true);\nreturn signInWithPopup(auth,googleProvider);};// loginWIthEmailPassword function call \nvar loginWIthEmailPassword=function loginWIthEmailPassword(email,password){signInWithEmailAndPassword(auth,email,password).then(function(userCredential){setUser(userCredential.user);}).catch(function(error){setError(error.message);});};// logout function call \nvar logout=function logout(){setIsLoading(true);signOut(auth).then(function(){setUser({});}).finally(function(){return setIsLoading(false);});};// observe user state change \nuseEffect(function(){var unsubscribed=onAuthStateChanged(auth,function(user){if(user){setUser(user);}else{setUser({});}setIsLoading(false);});return function(){return unsubscribed;};},[]);return{user:user,error:error,isLoading:isLoading,createUserUsingEmail:createUserUsingEmail,signInUsingGoogle:signInUsingGoogle,logout:logout,loginWIthEmailPassword:loginWIthEmailPassword,loginUserUsingEmail:loginUserUsingEmail};};export default useFirebase;","map":{"version":3,"sources":["E:/Programming Hero/Projects/we-travel/src/Hooks/useFirebase.js"],"names":["useEffect","useState","initializeAuthentication","getAuth","signInWithPopup","createUserWithEmailAndPassword","GoogleAuthProvider","onAuthStateChanged","signOut","signInWithEmailAndPassword","SignUp","useFirebase","user","setUser","error","setError","isLoading","setIsLoading","auth","googleProvider","createUserUsingEmail","name","email","password","console","log","then","userCredential","catch","message","loginUserUsingEmail","signInUsingGoogle","loginWIthEmailPassword","logout","finally","unsubscribed"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport initializeAuthentication from \"../components/Firebase/firebase.init\";\r\nimport { getAuth, signInWithPopup, createUserWithEmailAndPassword, GoogleAuthProvider, onAuthStateChanged, signOut, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport SignUp from \"../components/SignUp/SignUp\";\r\n\r\n\r\ninitializeAuthentication();\r\nconst useFirebase = () => {\r\n    const [user, setUser] = useState({});\r\n    const [error, setError] = useState('');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const auth = getAuth();\r\n    const googleProvider = new GoogleAuthProvider();\r\n\r\n    // CreateUser Using  Email & Password \r\n    const createUserUsingEmail = (name, email, password) => {\r\n        console.log(email);\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then(userCredential => {\r\n                console.log(userCredential.user);\r\n                setUser(userCredential.user)\r\n            })\r\n            .catch(error => {\r\n                setError(error.message);\r\n            })\r\n    }\r\n    // login Using  Email & Password \r\n    const loginUserUsingEmail = (name, email, password) => {\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then(userCredential => {\r\n                console.log(userCredential.user);\r\n                setUser(userCredential.user)\r\n            })\r\n            .catch(error => {\r\n                setError(error.message);\r\n            })\r\n    }\r\n\r\n    // SignIn Using google provider \r\n    const signInUsingGoogle = () => {\r\n        // setIsLoading(true);\r\n        return signInWithPopup(auth, googleProvider);\r\n    }\r\n    // loginWIthEmailPassword function call \r\n    const loginWIthEmailPassword = (email, password) => {\r\n\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                setUser(userCredential.user);\r\n\r\n            })\r\n            .catch((error) => {\r\n                setError(error.message)\r\n            });\r\n    }\r\n\r\n    // logout function call \r\n    const logout = () => {\r\n        setIsLoading(true);\r\n        signOut(auth)\r\n            .then(() => {\r\n                setUser({});\r\n            })\r\n            .finally(() => setIsLoading(false))\r\n    }\r\n    // observe user state change \r\n    useEffect(() => {\r\n        const unsubscribed = onAuthStateChanged(auth, user => {\r\n            if (user) {\r\n                setUser(user)\r\n            }\r\n            else {\r\n                setUser({});\r\n            }\r\n            setIsLoading(false)\r\n        });\r\n        return () => unsubscribed;\r\n    }, [])\r\n    return {\r\n        user,\r\n        error,\r\n        isLoading,\r\n        createUserUsingEmail,\r\n        signInUsingGoogle,\r\n        logout,\r\n        loginWIthEmailPassword,\r\n        loginUserUsingEmail\r\n    }\r\n}\r\n\r\nexport default useFirebase;"]},"metadata":{},"sourceType":"module"}